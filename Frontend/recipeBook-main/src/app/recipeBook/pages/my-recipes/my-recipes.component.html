<h1 class="text-4xl font-sans text-center mt-2 p-5">{{ 'MY_RECIPES.STORED_RECIPES' | translate}}</h1>
<hr class="border-t-2 my-4">

<section>
    <div class="p-4 w-full">
        <label class="text-xl" for="textoForm">{{ 'MY_RECIPES.FILTER_BY' | translate}}</label>
        <mat-form-field class="ml-2 h-17 w-full md:w-auto">
            <mat-label>{{ 'MY_RECIPES.CATEGORY' | translate}}</mat-label>
            <mat-select #form (valueChange)="onSelected(form.value)">
                <mat-option>{{ 'MY_RECIPES.CHOOSE' | translate}}</mat-option>
                @for (category of categories; track category) {
                    <mat-option [value]="category"> {{ 'CATEGORIES.' + category | translate }}</mat-option>
                }
            </mat-select>
        </mat-form-field>
    </div>
</section>

<section>
    @if ($loading()) {
        <mat-spinner class="mx-auto my-4" [color]="color"></mat-spinner>
    } @else if ($recipes.length === 0 && $loading()) {
        <div class="alert alert-warning text-center">
            No hay ninguna receta guardada
        </div>
    } @else {
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4">
            @for (receta of $recipes(); track receta) {
                <app-card></app-card>
            }
        </div>
        
        <!-- Paginado (click)="previousPage()" [disabled]="!hasPreviousPage" (click)="nextPage()" [disabled]="!hasNextPage"-->
        <div class="flex justify-center mt-4">
            <button 
                (click)="onPageChange(currentPage() - 1)" 
                [disabled]="currentPage() <= 1" 
                class="bg-gray-200 text-gray-700 px-4 py-2 mx-1 rounded hover:bg-gray-300">
                Anterior
            </button>
            <button 
                (click)="onPageChange(currentPage() + 1)" 
                class="bg-gray-200 text-gray-700 px-4 py-2 mx-1 rounded hover:bg-gray-300">
                Siguiente
            </button>
        </div>
        
    }
</section>
